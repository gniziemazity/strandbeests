<!DOCTYPE html>
<html>
   <head>
      <title>Strandbeest Experiment</title>
      <style>
         body {
            text-align: center;
         }
         canvas {
            border: 1px solid;
         }
      </style>
   </head>
   <body>
      <canvas id="canvas" width="1050" height="500"></canvas>

      <script src="js/utils.js"></script>
      <script src="js/stick.js"></script>
      <script src="js/particle.js"></script>
      <script src="js/lever.js"></script>
      <script src="js/motor.js"></script>
      <script src="js/vector.js"></script>
      <script src="js/leg.js"></script>
      <script src="js/strandBeest.js"></script>
      <script src="js/physics.js"></script>
      <script>
         const ctx = canvas.getContext("2d");

         const useMotor = true;
         const gravity = new Vector(0, 1);
         const wind = new Vector(0, 0);

         const physics = new Physics(gravity, wind);

         const origin = new Vector(canvas.width / 2, canvas.height * 0.8);
         
         const speed = 0.02;

         const strandBeest = new StrandBeest(
            origin,
            {
               a: 38.0,
               b: 41.5,
               c: 39.3,
               d: 40.1,
               e: 55.8,
               f: 39.4,
               g: 36.7,
               h: 65.7,
               i: 49.0,
               j: 50.0,
               k: 61.9,
               l: 7.8,
               m: 15.0,
            },
            useMotor,
            speed
         );

         animate();

         function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            physics.update([strandBeest], canvas.width, canvas.height);
            strandBeest.draw(ctx);

            requestAnimationFrame(animate);
         }
      </script>
   </body>
</html>
